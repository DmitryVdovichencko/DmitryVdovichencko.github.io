<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.590f3107b512e2447c4a.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap);
/*
! tailwindcss v3.0.18 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:Roboto;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246/0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{padding-left:1rem;padding-right:1rem;width:100%}@media (min-width:640px){.container{max-width:640px;padding-left:2rem;padding-right:2rem}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px;padding-left:4rem;padding-right:4rem}}@media (min-width:1280px){.container{max-width:1280px;padding-left:5rem;padding-right:5rem}}@media (min-width:1536px){.container{max-width:1536px;padding-left:6rem;padding-right:6rem}}.prose{color:#374151;max-width:65ch}.prose :where([class~=lead]):not(:where([class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.prose a{color:#374151;font-weight:300;text-decoration:none}:where(.prose a:hover):not(:where([class~=not-prose] *)){color:#3b82f6!important}:where(.prose a[aria-current]):not(:where([class~=not-prose] *)){font-weight:700!important}.prose :where(strong):not(:where([class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(ol):not(:where([class~=not-prose] *)){list-style-type:decimal;padding-left:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose] *)){list-style-type:disc;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose :where(blockquote):not(:where([class~=not-prose] *)){border-left-color:var(--tw-prose-quote-borders);border-left-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\201C""\201D""\2018""\2019"}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose :where(h1 strong):not(:where([class~=not-prose] *)){font-weight:900}.prose :where(h2):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose :where(h2 strong):not(:where([class~=not-prose] *)){font-weight:800}.prose :where(h3):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose :where(h3 strong):not(:where([class~=not-prose] *)){font-weight:700}.prose :where(h4):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:0}.prose :where(h4 strong):not(:where([class~=not-prose] *)){font-weight:700}.prose :where(figure>*):not(:where([class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(figcaption):not(:where([class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose code{background:#e5e7eb;border-radius:2px;color:#374151;font-size:.875em;font-weight:600;padding:.25rem}:where(.prose code):not(:where([class~=not-prose] *)):before{content:""!important}:where(.prose code):not(:where([class~=not-prose] *)):after{content:""!important}.prose :where(code):not(:where([class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose] *)){color:var(--tw-prose-links)}.prose :where(pre):not(:where([class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose :where(pre code):not(:where([class~=not-prose] *)){background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.prose :where(pre code):not(:where([class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose :where(thead):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.prose :where(thead th):not(:where([class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose :where(tbody tr):not(:where([class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.prose :where(tbody tr:last-child):not(:where([class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose] *)){padding:.5714286em;vertical-align:baseline}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgb(0 0 0/50%);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(p):not(:where([class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where(img):not(:where([class~=not-prose] *)){margin:0}.prose :where(video):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(figure):not(:where([class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(h2 code):not(:where([class~=not-prose] *)){font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose] *)){font-size:.9em}.prose :where(li):not(:where([class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose :where(ol>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose] *)){padding-left:.375em}.prose>:where(ul>li p):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose>:where(ul>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose>:where(ul>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose>:where(ol>li>:first-child):not(:where([class~=not-prose] *)){margin-top:1.25em}.prose>:where(ol>li>:last-child):not(:where([class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(hr+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose :where(tbody td:first-child):not(:where([class~=not-prose] *)){padding-left:0}.prose :where(tbody td:last-child):not(:where([class~=not-prose] *)){padding-right:0}.prose>:where(:first-child):not(:where([class~=not-prose] *)){margin-top:0}.prose>:where(:last-child):not(:where([class~=not-prose] *)){margin-bottom:0}.prose article :where(a):not(:where([class~=not-prose] *)){color:#3b82f6}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{bottom:0;left:0;right:0;top:0}.my-8{margin-bottom:2rem;margin-top:2rem}.mx-auto{margin-left:auto;margin-right:auto}.mx-2{margin-left:.5rem;margin-right:.5rem}.my-4{margin-bottom:1rem;margin-top:1rem}.my-1{margin-bottom:.25rem;margin-top:.25rem}.mt-4{margin-top:1rem}.mb-6{margin-bottom:1.5rem}.mr-1{margin-right:.25rem}.mb-2\.5{margin-bottom:.625rem}.mb-2{margin-bottom:.5rem}.ml-2{margin-left:.5rem}.mt-2{margin-top:.5rem}.mt-0{margin-top:0}.mr-2{margin-right:.5rem}.mt-0\.5{margin-top:.125rem}.ml-1{margin-left:.25rem}.-mb-0\.5{margin-bottom:-.125rem}.-mb-0{margin-bottom:0}.flex{display:flex}.inline-flex{display:inline-flex}.h-8{height:2rem}.h-48{height:12rem}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-full{width:100%}.max-w-5xl{max-width:64rem}.flex-1{flex:1 1 0%}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.content-center{align-content:center}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.bg-slate-200{--tw-bg-opacity:1;background-color:rgb(226 232 240/var(--tw-bg-opacity))}.bg-\[\#24292F\]{--tw-bg-opacity:1;background-color:rgb(36 41 47/var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246/var(--tw-bg-opacity))}.object-cover{-o-object-fit:cover;object-fit:cover}.p-4{padding:1rem}.p-6{padding:1.5rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-2\.5{padding-bottom:.625rem;padding-top:.625rem}.px-4{padding-left:1rem;padding-right:1rem}.text-center{text-align:center}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-light{font-weight:300}.font-semibold{font-weight:600}.font-medium{font-weight:500}.uppercase{text-transform:uppercase}.italic{font-style:italic}.text-stone-600{--tw-text-opacity:1;color:rgb(87 83 78/var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0/0.1),0 4px 6px -4px rgb(0 0 0/0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}body,html{min-height:100vh}.hover\:bg-\[\#24292F\]\/90:hover{background-color:rgb(36 41 47/.9)}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216/var(--tw-bg-opacity))}.hover\:shadow-xl:hover{--tw-shadow:0 20px 25px -5px rgb(0 0 0/0.1),0 8px 10px -6px rgb(0 0 0/0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.focus\:ring-4:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus\:ring-\[\#24292F\]\/50:focus{--tw-ring-color:rgb(36 41 47/0.5)}@media (prefers-color-scheme:dark){.dark\:hover\:bg-\[\#050708\]\/30:hover{background-color:rgb(5 7 8/.3)}.dark\:focus\:ring-gray-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(107 114 128/var(--tw-ring-opacity))}}@media (min-width:768px){.md\:h-auto{height:auto}.md\:w-48{width:12rem}.md\:flex-row{flex-direction:row}.md\:rounded-t-none{border-top-left-radius:0;border-top-right-radius:0}.md\:rounded-l-lg{border-bottom-left-radius:.5rem;border-top-left-radius:.5rem}.md\:pl-6{padding-left:1.5rem}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 3.14.2"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true"></title><link as="script" rel="preload" href="/webpack-runtime-71fe743e4da52460ef4e.js"/><link as="script" rel="preload" href="/framework-5286ab28b32100cba98c.js"/><link as="script" rel="preload" href="/app-70b16d81b9b70edec0da.js"/><link as="script" rel="preload" href="/d7eeaac4-b2cc3d84ef9fea63f7c5.js"/><link as="script" rel="preload" href="/component---src-templates-article-tsx-3e78fc60b1c6703a8b17.js"/><link as="fetch" rel="preload" href="/page-data/sameCookies/same-cookies/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="prose container mx-auto max-w-5xl min-h-screen flex flex-col"><header class="flex flex-row flex-wrap w-full justify-between items-end"><a href="/"><h3>dimetrio.codes</h3></a><nav class="mb-2.5 h-8"><a class="uppercase text-sm font-light" href="/articles/">Articles</a><a class="ml-2 uppercase text-sm font-light" href="/projects/">Projects</a><a class="ml-2 uppercase text-sm font-light" href="/">About</a></nav></header><main class="flex flex-col flex-1"><article><h1>Разбираемся с атрибутом <code>SameSite</code> <strong>cookies</strong></h1><div class="my-8"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:50%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBv/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAGarLulbRigr//EABoQAAMBAAMAAAAAAAAAAAAAAAACAwEEERL/2gAIAQEAAQUCSazRZy088c73BKORZtT/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIhUf/aAAgBAwEBPwFSWFH/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAQIR/9oACAECAQE/AZqx/8QAHxAAAgECBwAAAAAAAAAAAAAAAAECITMSMTJhgZHR/9oACAEBAAY/AsLipTln4W1XYtrgozXLsrJs/8QAHRABAAEEAwEAAAAAAAAAAAAAAQARITFBUWFxkf/aAAgBAQABPyExchuHEAAvpC1FLqHMDxhcfRK7uG2f/9oADAMBAAIAAwAAABBj7//EABYRAQEBAAAAAAAAAAAAAAAAABEAUf/aAAgBAwEBPxAhHF//xAAXEQEBAQEAAAAAAAAAAAAAAAARAAFR/9oACAECAQE/ENFZdv/EABwQAQACAwADAAAAAAAAAAAAAAEAESExUUGBkf/aAAgBAQABPxBTSBID2D3yypA7Ltmmjty8ITYAHHG4WezCKYVZKxP2WFQwVcT/2Q==" alt=""/><picture><source type="image/avif" data-srcset="/static/b98c75e2af9d4b2b51214999ae37c55c/d452a/cookie-hero.avif 750w,/static/b98c75e2af9d4b2b51214999ae37c55c/5d144/cookie-hero.avif 1080w,/static/b98c75e2af9d4b2b51214999ae37c55c/cf4b1/cookie-hero.avif 1366w,/static/b98c75e2af9d4b2b51214999ae37c55c/62344/cookie-hero.avif 1434w" sizes="100vw"/><source type="image/webp" data-srcset="/static/b98c75e2af9d4b2b51214999ae37c55c/f6343/cookie-hero.webp 750w,/static/b98c75e2af9d4b2b51214999ae37c55c/78c86/cookie-hero.webp 1080w,/static/b98c75e2af9d4b2b51214999ae37c55c/b501b/cookie-hero.webp 1366w,/static/b98c75e2af9d4b2b51214999ae37c55c/245e7/cookie-hero.webp 1434w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/b98c75e2af9d4b2b51214999ae37c55c/ae389/cookie-hero.jpg" data-srcset="/static/b98c75e2af9d4b2b51214999ae37c55c/64f7c/cookie-hero.jpg 750w,/static/b98c75e2af9d4b2b51214999ae37c55c/e47b8/cookie-hero.jpg 1080w,/static/b98c75e2af9d4b2b51214999ae37c55c/c95b6/cookie-hero.jpg 1366w,/static/b98c75e2af9d4b2b51214999ae37c55c/ae389/cookie-hero.jpg 1434w" alt="cookie-hero"/></picture><noscript><picture><source type="image/avif" srcSet="/static/b98c75e2af9d4b2b51214999ae37c55c/d452a/cookie-hero.avif 750w,/static/b98c75e2af9d4b2b51214999ae37c55c/5d144/cookie-hero.avif 1080w,/static/b98c75e2af9d4b2b51214999ae37c55c/cf4b1/cookie-hero.avif 1366w,/static/b98c75e2af9d4b2b51214999ae37c55c/62344/cookie-hero.avif 1434w" sizes="100vw"/><source type="image/webp" srcSet="/static/b98c75e2af9d4b2b51214999ae37c55c/f6343/cookie-hero.webp 750w,/static/b98c75e2af9d4b2b51214999ae37c55c/78c86/cookie-hero.webp 1080w,/static/b98c75e2af9d4b2b51214999ae37c55c/b501b/cookie-hero.webp 1366w,/static/b98c75e2af9d4b2b51214999ae37c55c/245e7/cookie-hero.webp 1434w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/b98c75e2af9d4b2b51214999ae37c55c/ae389/cookie-hero.jpg" srcSet="/static/b98c75e2af9d4b2b51214999ae37c55c/64f7c/cookie-hero.jpg 750w,/static/b98c75e2af9d4b2b51214999ae37c55c/e47b8/cookie-hero.jpg 1080w,/static/b98c75e2af9d4b2b51214999ae37c55c/c95b6/cookie-hero.jpg 1366w,/static/b98c75e2af9d4b2b51214999ae37c55c/ae389/cookie-hero.jpg 1434w" alt="cookie-hero"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="text-sm mt-4 italic text-gray-400 text-center"></p></div><p>Перевод статьи <a href="https://web.dev/authors/rowan_m/">Rowan Merewood</a> <a href="https://web.dev/samesite-cookies-explained/?utm_source=devtools">SameSite cookies explained</a></p><p>Защитите свой сайт, узнав как явно определить кросс-сайтовые cookies.</p><p><code>Cookies</code> являются одним из способов хранения состояния на веб-сайтах. Многие годы их возможности росли и развивались, при этом оставляя веб-платформу с некоторыми устаревшими проблемами. Чтобы это исправить, браузеры (включая Chrome, Firefox и Edge) изменили свое поведение в сторону защиты приватных данных пользователей.</p><p>Каждый <code>cookie</code> представляет собой пару ключ-значение <code>key = value</code> с определенным набором атрибутов, которые контролируют когда и где будет использоваться <code>cookie</code>. Возможно, вы уже использовали эти атрибуты, чтобы например установить срок действия <code>cookie</code>, или передачу только по HTTPS. Сервера устанавливают <code>cookies</code> отправляя специальный заголовок <code>Set-Cookie</code> в ответе. За всеми подробностями можно обратиться к спецификации RFC6265bis, но вот краткий обзор того, как это работает.</p><p>Допустим, у вас есть блог, где вы хотите показывать промо &quot;Что нового&quot; своим подписчикам. Пользователь может пропустить промо, и вряд ли после этого захочет увидеть его снова, по крайней мере, на некоторое время. Вы можете записать эту настройку в <code>cookie</code> и установить его срок действия в 1 месяц (2,600,000 сек), а также отправлять его только по HTTPS. В этом случае заголовок будет выглядеть так:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Set<span class="token operator">-</span>Cookie<span class="token operator">:</span> promo_shown<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> Max<span class="token operator">-</span>Age<span class="token operator">=</span><span class="token number">2600000</span><span class="token punctuation">;</span> Secure</code></pre></div><div class="my-8"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:34.5%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAC4jAAAuIwF4pT92AAABHUlEQVQY03WQOU4EMRRE+/4HICUj5wbALBqJTUIMDIhlll7ctttuL9P+Xj8BAclQquwl9arCU3E+MoOyeyj7M8qIsMX59IdzwAyYQ9XJuKPhwMKWBu3yoEPDgQinp5yDLOYlBS90IINruZM2AxhUt6juUC6r550lXNFBf7Xqk0AnAEI6OSel3InIOEW9RH2PclZt9lZINY667tV3DzWHboCWQy+CMJDIJbAlU7kXwEZoRaScoV6hecRxUd282vnGLN7M1VqvD25LnLQRscRc9IRlnCWzsQ69j2aKzRAJpajmZVzB4aKCUNxvfYmpQEhMQj1Eqxocr5WZBoNs9A0Hof3RpRQBj++on9JUV6fsSiw4yY9cn1tN1TH7f174AWyZjaz5hKPYAAAAAElFTkSuQmCC" alt=""/><picture><source type="image/avif" data-srcset="/static/cd58afa205544ac6a062b3a761162450/077ba/set-cookie-response-header.avif 750w,/static/cd58afa205544ac6a062b3a761162450/e3b5c/set-cookie-response-header.avif 800w" sizes="100vw"/><source type="image/webp" data-srcset="/static/cd58afa205544ac6a062b3a761162450/df192/set-cookie-response-header.webp 750w,/static/cd58afa205544ac6a062b3a761162450/f52ed/set-cookie-response-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/cd58afa205544ac6a062b3a761162450/e955b/set-cookie-response-header.png" data-srcset="/static/cd58afa205544ac6a062b3a761162450/c4fb5/set-cookie-response-header.png 750w,/static/cd58afa205544ac6a062b3a761162450/e955b/set-cookie-response-header.png 800w" alt="set-cookie-response-header"/></picture><noscript><picture><source type="image/avif" srcSet="/static/cd58afa205544ac6a062b3a761162450/077ba/set-cookie-response-header.avif 750w,/static/cd58afa205544ac6a062b3a761162450/e3b5c/set-cookie-response-header.avif 800w" sizes="100vw"/><source type="image/webp" srcSet="/static/cd58afa205544ac6a062b3a761162450/df192/set-cookie-response-header.webp 750w,/static/cd58afa205544ac6a062b3a761162450/f52ed/set-cookie-response-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/cd58afa205544ac6a062b3a761162450/e955b/set-cookie-response-header.png" srcSet="/static/cd58afa205544ac6a062b3a761162450/c4fb5/set-cookie-response-header.png 750w,/static/cd58afa205544ac6a062b3a761162450/e955b/set-cookie-response-header.png 800w" alt="set-cookie-response-header"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="text-sm mt-4 italic text-gray-400 text-center">Сервер устанавливает cookies, используя заголовок Set-Cookie</p></div><p>Когда ваш посетитель откроет страницу, удовлетворяющую этим требованиям, т.е. соединение защищено и  <code>cookie</code> не старше месяца, браузер отправит этот заголовок в своем запросе: </p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Cookie<span class="token operator">:</span> promo_shown<span class="token operator">=</span><span class="token number">1</span></code></pre></div><div class="my-8"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:20.625%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAx0lEQVQI13WOT0vDMBiH+/0/hEdhFw+CN4eXIQoOBsI2aVnQ2LVZt/5JmrzNmyY/UfToc30Oz5MJ5fcl5RVtpav7ACAl/MOP4AbNHdplqhfZTlqtjbNWXfRbSZ4jcWL2mCQQEQbECXyO7t2HOE4I1GB4wviaLvfZRlhRmY+T2Uu9laRaqrrYNXkqr7qmmMvrUT3a+mE+Ls49iZrNoKBXMJt0us3Wgl4Obn1wz4XLK/83yJjkHDjZYvZtDBah/1X8XY7dij5vvgCqseBazEfttgAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/avif" data-srcset="/static/100a94d79ebc16ea29db45ff29cf11ac/16c37/cookie-request-header.avif 750w,/static/100a94d79ebc16ea29db45ff29cf11ac/b64f7/cookie-request-header.avif 800w" sizes="100vw"/><source type="image/webp" data-srcset="/static/100a94d79ebc16ea29db45ff29cf11ac/d55c1/cookie-request-header.webp 750w,/static/100a94d79ebc16ea29db45ff29cf11ac/9826a/cookie-request-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/100a94d79ebc16ea29db45ff29cf11ac/14a51/cookie-request-header.png" data-srcset="/static/100a94d79ebc16ea29db45ff29cf11ac/d8338/cookie-request-header.png 750w,/static/100a94d79ebc16ea29db45ff29cf11ac/14a51/cookie-request-header.png 800w" alt="cookie-request-header"/></picture><noscript><picture><source type="image/avif" srcSet="/static/100a94d79ebc16ea29db45ff29cf11ac/16c37/cookie-request-header.avif 750w,/static/100a94d79ebc16ea29db45ff29cf11ac/b64f7/cookie-request-header.avif 800w" sizes="100vw"/><source type="image/webp" srcSet="/static/100a94d79ebc16ea29db45ff29cf11ac/d55c1/cookie-request-header.webp 750w,/static/100a94d79ebc16ea29db45ff29cf11ac/9826a/cookie-request-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/100a94d79ebc16ea29db45ff29cf11ac/14a51/cookie-request-header.png" srcSet="/static/100a94d79ebc16ea29db45ff29cf11ac/d8338/cookie-request-header.png 750w,/static/100a94d79ebc16ea29db45ff29cf11ac/14a51/cookie-request-header.png 800w" alt="cookie-request-header"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="text-sm mt-4 italic text-gray-400 text-center">Ваш браузер отправляет cookies обратно в заголовке Cookie</p></div><p>Вы также можете добавлять и смотреть <code>cookies</code> доступные на сайте используя <code>document.cookie</code>.
Присваивание значения <code>document.cookie</code> создаст или перезапишет <code>cookie</code> с этим ключом. Например, попробуйте выполнить следующее в JavaScript консоли своего браузера: </p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">&quot;promo_shown=1; Max-Age=2600000; Secure&quot;</span>
<span class="token comment">// &quot;promo_shown=1; Max-Age=2600000; Secure&quot;</span></code></pre></div><p>Чтение <code>document.cookie</code> выведет все <code>cookies</code> доступные в текущем контексте, разделив их <code>;</code></p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">document<span class="token punctuation">.</span>cookie<span class="token punctuation">;</span>
<span class="token comment">// &quot;promo_shown=1; color_theme=peachpuff; sidebar_loc=left&quot;</span></code></pre></div><div class="my-8"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:63.66666666666666%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAC4jAAAuIwF4pT92AAABjklEQVQoz4WSy2vbQBCH9/+/9ZJCSXII5NBDDqG5hEChJLUJtK5fITG1JdmR7bRW9NhZrfahnSmSUkfgEA8/FnaXb96M3jfE6iwB158xPCSbNK/NJ9sHonL06Pfc4gDDT+ugqx0RuT1w4/wZ7MDjMS8o7VD8dRPzoZ8rg7VnZLYkUCj+CxRK/ZJVGOmxD8a6dgWp0CMfyjopdjuV3+6y7oR3Hip1J/xqmCW5G3rQn/ItU6eCWF+eEhOEK0LOru8hzSAXlQEIU4hfs8zfGGOsNq4Ft6rRSx0cueUp+/4AWQYAFcm5UFIMvMz/a3awFsz7tDrE1QnrTCBO6sgggAstq8iLyDiHab4buaHtn+BKxWN20cvOfyRffqaNLnrp2W0yelR5UZ53I6m2PBI5rFmpcbyw1agG82IwL/ptBXK61kQkpOnPOBTudS2ISkcjD3iuq26/P2ely6HHI+5I+pTcqAJGQR6lqkmHVcN+S1szln7PN2p+TOGH9fTyGV77wGif1fVaXJ7g4iPxXo2+rOc/EgLn2wIbJLMAAAAASUVORK5CYII=" alt=""/><picture><source type="image/avif" data-srcset="/static/a0d7fb078e194527c9cd8879f13cbe9d/e277e/document-cookie.avif 600w" sizes="100vw"/><source type="image/webp" data-srcset="/static/a0d7fb078e194527c9cd8879f13cbe9d/642b1/document-cookie.webp 600w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/a0d7fb078e194527c9cd8879f13cbe9d/6b12a/document-cookie.png" data-srcset="/static/a0d7fb078e194527c9cd8879f13cbe9d/6b12a/document-cookie.png 600w" alt="document-cookie"/></picture><noscript><picture><source type="image/avif" srcSet="/static/a0d7fb078e194527c9cd8879f13cbe9d/e277e/document-cookie.avif 600w" sizes="100vw"/><source type="image/webp" srcSet="/static/a0d7fb078e194527c9cd8879f13cbe9d/642b1/document-cookie.webp 600w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/a0d7fb078e194527c9cd8879f13cbe9d/6b12a/document-cookie.png" srcSet="/static/a0d7fb078e194527c9cd8879f13cbe9d/6b12a/document-cookie.png 600w" alt="document-cookie"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="text-sm mt-4 italic text-gray-400 text-center"> JavaScript получает доступ к cookies с помощью document.cookie</p></div><p>Если вы попробуете выполнить это на одном из популярных сайтов, то заметите, что большинство из них устанавливают значительно больше чем 3 <code>cookies</code>. Чаще всего, эти <code>cookies</code> отправляются в каждом запросе к домену, что приводит к ряду последствий. Обычно, для пользователей, ограничение исходящего трафика более строгое чем входящего. Так что, все излишние издержки на трафик исходящих запросов приводят к потерям в скорости. Будьте консервативными к числу и размеру <code>cookies</code>, которые вы устанавливаете. Используйте атрибут <code>Max-Age</code>, чтобы убедиться, что <code>cookies</code> не хранятся дольше чем необходимо.  </p><h2>Какие <code>cookies</code> являются основными а какие сторонними?</h2><p>Если вернуться к тем популярным сайтам на которые мы смотрели выше, вы, возможно, заметили что <code>cookies</code> представлены для разных доменов, а не только для того, на котором вы находитесь. </p><p><strong><code>Cookies</code> домен которых совпадает с текущим доменом из адресной строки браузера являются основными.</strong></p><p><strong>Соответственно, <code>Cookies</code> домен которых отличается от текущего  являются сторонними.</strong></p><p>Эти определения не являются абсолютными, они зависят от окружения пользователя: один и тот же <code>cookie</code> может быть как основным так и сторонним в зависимости от сайта, на котором находится пользователь в текущий момент.</p><div class="my-8"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:43.24999999999999%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAC4jAAAuIwF4pT92AAABgUlEQVQoz2WQW2/TQBCF/f//AP+hSDxwqVBL+hAI1G1CSSkpTl032LEdO77uem+e3RmktiBaPh3pPBzN6Oh4SPRXDzhEqV1ai4PVKz++kpJGax8z1OjUvQwhePQPyriyM1ml9p0RGi6LHzkre26zShatravNKnq7To6D5ChM3mP5xtt1UPSQdyAMpntdtgYR6SmICEBxFh6uptf11eX+wt9OsD72opQlBY9StkokPT+ixz/3NopkcebP599np4vri3NqTry+50oMfc/vdioudVzKstVFo+vBbs713RfZcFs0uuwhjuLZ4fZm2QTzZn1SYjXxPgfsdM0+/ezPQgGAIzhlnDJWaBNORTAZuDBSw+hINtvb2U30NQk+xrkfUvvOq7ituN0zy6TLasOkfdb8wcBRVyfprY/Ngroljw+Gzcsnaw8SskplteFCEVsaVUtD+87klcxbqIqN2n2gdkrNEfv1Gkbt0X8rjZa6tnDxi373LW9JKAPW/ekAhEA4Ejoi+g00AfkI0BG9PgAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/avif" data-srcset="/static/4811ef36890b173347e44a0294b3b065/3f33d/cross-site-set-cookie-response-header.avif 750w,/static/4811ef36890b173347e44a0294b3b065/d572b/cross-site-set-cookie-response-header.avif 800w" sizes="100vw"/><source type="image/webp" data-srcset="/static/4811ef36890b173347e44a0294b3b065/455c4/cross-site-set-cookie-response-header.webp 750w,/static/4811ef36890b173347e44a0294b3b065/75f06/cross-site-set-cookie-response-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/4811ef36890b173347e44a0294b3b065/72a92/cross-site-set-cookie-response-header.png" data-srcset="/static/4811ef36890b173347e44a0294b3b065/e5fa6/cross-site-set-cookie-response-header.png 750w,/static/4811ef36890b173347e44a0294b3b065/72a92/cross-site-set-cookie-response-header.png 800w" alt="document-cookie"/></picture><noscript><picture><source type="image/avif" srcSet="/static/4811ef36890b173347e44a0294b3b065/3f33d/cross-site-set-cookie-response-header.avif 750w,/static/4811ef36890b173347e44a0294b3b065/d572b/cross-site-set-cookie-response-header.avif 800w" sizes="100vw"/><source type="image/webp" srcSet="/static/4811ef36890b173347e44a0294b3b065/455c4/cross-site-set-cookie-response-header.webp 750w,/static/4811ef36890b173347e44a0294b3b065/75f06/cross-site-set-cookie-response-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/4811ef36890b173347e44a0294b3b065/72a92/cross-site-set-cookie-response-header.png" srcSet="/static/4811ef36890b173347e44a0294b3b065/e5fa6/cross-site-set-cookie-response-header.png 750w,/static/4811ef36890b173347e44a0294b3b065/72a92/cross-site-set-cookie-response-header.png 800w" alt="document-cookie"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="text-sm mt-4 italic text-gray-400 text-center"> Cookies могут приходить с множества разных доменов на одной странице.</p></div><p>Продолжим с примером блога, допустим в одном из постов есть прикольная картинка с котэ и она хостится на <code>/blog/img/amazing-cat.png</code>. Поскольку картинка очень крутая, другой пользователь захотел использовать ее у себя на сайте. Если, пользователь уже посещал ваш блог, и у него есть <code>cookie</code> <code>promo-shown</code>, то когда он захочет посмотреть на картинку с котэ на другом сайте <code>cookie</code> будет прикреплен к запросу на получение картинки. Это определенно никому не нужно, т.к. <code>promo_shown</code> не используется на другом сайте, это излишняя нагрузка на запрос</p><p>Если это незапланированный эффект, зачем вам это делать? Существует механизм, позволяющий сайтам хранить
состояние, когда они используются в стороннем контексте. Например, вы добавили видео с YouTube на своем сайте. В плеере, посетитель увидит кнопку &quot;Посмотреть позже&quot;. Если ваш посетитель уже залогинен на YouTube, то его сессия доступна во встроенном плеере через сторонние <code>cookies</code>. Это значит, что кнопка &quot;Посмотреть позже&quot; просто сохранит видео, вместо запроса на логин или редиректа на YouTube.</p><div class="my-8"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:54.125%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAC4jAAAuIwF4pT92AAABvklEQVQoz21RaW/aQBD1//8xVat8iERKoyRASsKROOYwt1ls4wOvj/Wy9u7OVA5VVFWM3pc53rw5jIQpn8pj2oAJHed1lKgXx/o2/749pvuAz0k5XmUk5AEVfiL8k/BiEdBKaTQsh+2D4hAWNsmX3vmUCwCMynTsraXCWmqlIStlmFaIqAGkBqWh4NI7VcbaZeeSVZyFp4LETQVCwVnhRwXiGaAJ8ErHWd1kPt2miwY/qYyHSdGZ5d15/usjm7sCEW1y01s8dRetmnYQFCKWQp0KeSEDNqgV+LQyMq7TsgFl+lwBorac2zf/95Dc1bSHIGsG00XhEi4ogMaLNmUy58rA/w0weYK0D/kQ8gFKMM1d+33QmQxGvb1MUaLMmLAPLC+FcRnjC81o9BGLsYzv66iFEs3J5tXpPy6e3wcEMlxEu5929246vLdHV5QhecCsL7wfNdsiIDHZbBQuP+LVWyIpToNNd/vcJ/3W9AoZUXGUOerPy0t0zHxmedbAHd1EcMZ1GHTs5ct6O96Ra+R/9wd0Lb4c0WmbHmfNLzbHyHTcCfFbY8u4zvm6AKKuUXJU4u+T7YPfNme3w4/X+eoPbipopQK91iUAAAAASUVORK5CYII=" alt=""/><picture><source type="image/avif" data-srcset="/static/e5215b70a70aecb2abd5140dd9508879/56559/cross-site-cookie-request-header.avif 750w,/static/e5215b70a70aecb2abd5140dd9508879/7ad35/cross-site-cookie-request-header.avif 800w" sizes="100vw"/><source type="image/webp" data-srcset="/static/e5215b70a70aecb2abd5140dd9508879/46969/cross-site-cookie-request-header.webp 750w,/static/e5215b70a70aecb2abd5140dd9508879/5f32a/cross-site-cookie-request-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/e5215b70a70aecb2abd5140dd9508879/e6d1d/cross-site-cookie-request-header.png" data-srcset="/static/e5215b70a70aecb2abd5140dd9508879/01f97/cross-site-cookie-request-header.png 750w,/static/e5215b70a70aecb2abd5140dd9508879/e6d1d/cross-site-cookie-request-header.png 800w" alt="cross-site-cookie-request-header"/></picture><noscript><picture><source type="image/avif" srcSet="/static/e5215b70a70aecb2abd5140dd9508879/56559/cross-site-cookie-request-header.avif 750w,/static/e5215b70a70aecb2abd5140dd9508879/7ad35/cross-site-cookie-request-header.avif 800w" sizes="100vw"/><source type="image/webp" srcSet="/static/e5215b70a70aecb2abd5140dd9508879/46969/cross-site-cookie-request-header.webp 750w,/static/e5215b70a70aecb2abd5140dd9508879/5f32a/cross-site-cookie-request-header.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/e5215b70a70aecb2abd5140dd9508879/e6d1d/cross-site-cookie-request-header.png" srcSet="/static/e5215b70a70aecb2abd5140dd9508879/01f97/cross-site-cookie-request-header.png 750w,/static/e5215b70a70aecb2abd5140dd9508879/e6d1d/cross-site-cookie-request-header.png 800w" alt="cross-site-cookie-request-header"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="text-sm mt-4 italic text-gray-400 text-center">Сookie в стороннем контексте отправляются при посещении разных страниц.</p></div><p>Одна из традиционных особенностей веба в том, что веб, по умолчанию, привык быть открытым. Поэтому, так много людей могут создавать приложения и размещать контент. Однако, эта особенность приводит к появлению ряда проблем в безопасности и приватности данных пользователя. Атаки фальсификации межсайтовых запросов (CSRF - Cross-Site Request Forgery) основаны на том факте, что <code>cookies</code> прикрепляются к каждому запросу, в независимости от того, кто является инициатором запроса. Например, если вы зашли на <code>evil.example</code>, то он может сделать запрос на <code>your-blog.example</code> и ваш браузер спокойненько прикрепит соответствующие <code>cookies</code>. И если ваш блог не заботится о проверке запросов то <code>evil.example</code> может спровоцировать действия типа удаления постов, или размещения собственного контента. </p><p>Пользователи также становятся более уязвимыми, от того как <code>cookies</code> используются для отслеживания их активности по разным сайтам. Тем не менее, до сих пор, отсутствовал способ явно заявить о намерениях использования <code>cookies</code>. Ваш <code>cookie</code> <code>promo_shown</code> должен отправляться только в основном контексте, учитывая при этом <code>cookie</code> сессии для встраиваемых виджетов, которые позволяют хранить состояние авторизации других сайтов в стороннем контексте.  </p><h2>Объявляем об использовании <code>cookies</code> с атрибутом <code>SameSite</code></h2><p>Включение атрибута <code>SameSite</code> (определенного в RFC6265bis) позволяет вам определить: должен ли ваш <code>cookie</code> использоваться только в основном или <code>same-site</code> контексте. Полезно понимать что вообще здесь значит <code>site</code>. <code>Site</code> - сочетание суффикса домена и части домена перед ним. Например, <code>www.web.dev</code> домен - часть сайта <code>web.dev</code></p><p><strong>Ключевое понятие:</strong></p><p>Если пользователь находится на <code>www.web.dev</code> и запрашивает изображение с <code>static.web.dev</code> то это является <code>same-site</code> запросом.</p><p>Список суффиксов доменов определен здесь, так что это не только домены высшего уровня типа <code>.com</code>  но также и сервисы например <code>github.io</code>. Это позволяет считать <code>your-project.github.io</code> и <code>my-project.github.io</code> разными сайтами.</p><p><strong>Ключевое понятие:</strong></p><p>Если пользователь на <code>your-project.github.io</code> и запрашивает изображение с <code>my-project.github.io</code> то это
межсайтовый (cross-site) запрос.</p><p>Включение атрибута <code>SameSite</code> в <code>cookie</code> предоставляет три возможных варианта управления поведением. Вы можете не определять аттрибут, либо использовать <code>Strict</code> или <code>Lax</code> для ограничения передачи <code>cookie</code>только на собственном сайте.</p><p>Если вы назначите <code>SameSite</code> значение <code>Strict</code>, ваш <code>cookie</code> будет пересылаться только в основном контексте. Для пользователя, это означает что <code>cookie</code> будет отправлен только сайту из адресной строки браузера. Так что, если <code>promo_shown</code> <code>cookie</code> будет определен следующим образом:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Set<span class="token operator">-</span>Cookie<span class="token operator">:</span> promo_shown<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> SameSite<span class="token operator">=</span>Strict</code></pre></div><p>Когда ваш пользователь находится у вас на сайте, <code>cookie</code> будет отправлен в запросе, как и ожидается. С другой стороны, когда пользователь пройдет по ссылке на ваш сайт, например, с другого сайта или из email от своего друга, в инициализирующем запросе <code>cookie</code> отправлен не будет. Это хорошо в том случае, если <code>cookies</code> относятся к функционалу за пределами начальной навигации, такому как смена пароля или создание заказа. Но, это слишком строго для <code>promo_shown</code>. Если ваш пользователь пройдет по ссылке на сайт, он бы хотел чтобы <code>cookie</code> был отправлен и, соответственно его выбор не смотреть промо сработал корректно. </p><p>Здесь нам поможет <code>SameSite=Lax</code>, разрешая отправлять <code>cookie</code> на верхнем уровне навигации. Давайте посетим страницу с постом о котэ, перейдя на нее с другого сайта по ссылке на оригинальный пост. Другой сайт может использовать фото котэ с вашего сайта напрямую и предоставить ссылку на оригинальный пост. </p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Look at this amazing cat!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://blog.example/blog/img/amazing-cat.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Read the <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://blog.example/blog/cat.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>article<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>А <code>cookie</code> установлен следующим образом:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Set<span class="token operator">-</span>Cookie<span class="token operator">:</span> promo_shown<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> SameSite<span class="token operator">=</span>Lax</code></pre></div><p>Когда пользователь придет на другой сайт,<code>cookie</code> не будет прикреплен к запросу на получение <code>amazing-cat.png</code>. Однако при переходе по ссылке к оригинальному посту <code>cat.html</code> в вашем блоге, запрос будет включать <code>cookie</code>. Это делает <code>Lax</code> хорошим выбором для <code>cookies</code> влияющих на отображение, тогда как <code>Strict</code> полезен для <code>cookies</code>, которые относятся к действиям пользователя</p><p><strong>Предупреждение:</strong></p><p>Ни <code>Strict</code> ни <code>Lax</code> не являются полноценным решением для обеспечения безопасности сайта. <code>Cookies</code> отправляются как часть запросов пользователя и с ними нужно обращаться также как и с другими пользовательскими данными. Нужно следить за чистотой и корректностью передаваемых данных. Никогда не используйте <code>cookies</code> для хранения секретных данных со стороны сервера.</p><p>Наконец, есть вариант не определять значение, что подразумевает собой отправку <code>cookies</code> во всех контекстах. В последнем черновике спецификации RFC6265bis это можно сделать явно определив <code>SameSite=None</code>. Это означает что можно использовать <code>None</code> если вы намеренно хотите отправлять <code>cookies</code> сторонним сайтам.</p><div class="my-8"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:57.00000000000001%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAC4jAAAuIwF4pT92AAABt0lEQVQoz12RbXOiMBSF+f9/Z790prPTVauutCpFUSuvvgRQCJQkvAWSu4t2t9U759uZ595zEgVuR8pO36dqa8aLqwUAvIGeN1b9FwBQhIC6+dTNEgmkaGkOEzR/sJ9S1tlRxk9prR61GTI6eI3KzZGZPjP27IA5KxtaiOijDXCZ0JrkwvT3dmCFSRVlDSYcQHi7wPECKYRiorwsaV3RlNDVoUgyMT3Y81D/n4FSSjISJhXClRSAy/PP9dIIzQ3eKOMt1Vyi78jUJpMtTbJmhhY9d3gJ/tmTlvIY13F3FuzE1nzViozx/llxz9w5dbJCfrX9IHq3/LYVAMDqQj/Nh5bxuJoawR4AnMTR/Vc7Xk+Rqty9NggSROgQImhTACA11fxXK1poSHVTBwDc1F0GMw+/99wn5fo3UoK4JDycx89mX3X7yemh21TnejAzo9XqpO0+dgCwxduX43joDUbu5OvyhZXorBr+cIl6efzrHzx14tXI7VvY7vrXLC5wXOBWtLexpQD6BtlvYDOZDUFyxsu3cL4MtYEzynl5V/EelnQBTG/xoPJ/wKVKzgvK80a03zJ2Rf/CfwCmmmgBwN/YFAAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/avif" data-srcset="/static/a9cacfdb8f4c1a54c553ac7dba4befab/e5328/samesite-none-lax-strict.avif 750w,/static/a9cacfdb8f4c1a54c553ac7dba4befab/f3838/samesite-none-lax-strict.avif 800w" sizes="100vw"/><source type="image/webp" data-srcset="/static/a9cacfdb8f4c1a54c553ac7dba4befab/b80ed/samesite-none-lax-strict.webp 750w,/static/a9cacfdb8f4c1a54c553ac7dba4befab/dcbab/samesite-none-lax-strict.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/a9cacfdb8f4c1a54c553ac7dba4befab/21b89/samesite-none-lax-strict.png" data-srcset="/static/a9cacfdb8f4c1a54c553ac7dba4befab/26af5/samesite-none-lax-strict.png 750w,/static/a9cacfdb8f4c1a54c553ac7dba4befab/21b89/samesite-none-lax-strict.png 800w" alt="samesite-none-lax-strict"/></picture><noscript><picture><source type="image/avif" srcSet="/static/a9cacfdb8f4c1a54c553ac7dba4befab/e5328/samesite-none-lax-strict.avif 750w,/static/a9cacfdb8f4c1a54c553ac7dba4befab/f3838/samesite-none-lax-strict.avif 800w" sizes="100vw"/><source type="image/webp" srcSet="/static/a9cacfdb8f4c1a54c553ac7dba4befab/b80ed/samesite-none-lax-strict.webp 750w,/static/a9cacfdb8f4c1a54c553ac7dba4befab/dcbab/samesite-none-lax-strict.webp 800w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/a9cacfdb8f4c1a54c553ac7dba4befab/21b89/samesite-none-lax-strict.png" srcSet="/static/a9cacfdb8f4c1a54c553ac7dba4befab/26af5/samesite-none-lax-strict.png 750w,/static/a9cacfdb8f4c1a54c553ac7dba4befab/21b89/samesite-none-lax-strict.png 800w" alt="samesite-none-lax-strict"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="text-sm mt-4 italic text-gray-400 text-center">Определяйте контекст использования cookie явно, через: None, Lax, или Strict.</p></div><p>Если вы предоставляете сервис, которые другие сайты добавляют как виджет, встраиваемое содержимое, рекламу, или вам необходимо поддержка авторизации на разных сайтах, необходимо использовать <code>None</code>, чтобы ваши намерения были ясны.</p><h2>Изменения в стандартном поведении без SameSite</h2><p>Несмотря на то, что аттрибут <code>SameSite</code> широко поддерживается, он, к сожалению, мало используется разработчиками. По умолчанию, такое открытое поведение при отправке <code>cookies</code>, позволит во всех случаях их использовать, но при этом сделает пользователя уязвимым для CSRF атак и непредвиденных утечек личной информации. Чтобы обязать разработчиков явно заявлять о намерениях при использовании <code>cookies</code> и предоставлять пользователям более безопасные приложения, Инженерный Совет Интернета (IETF - Internet Engineering Task Force) предложил улучшение работы с <code>cookies</code> с двумя изменениями:</p><ul><li><p><strong><code>Cookies</code> без атрибута <code>SameSite</code> трактуются как: <code>SameSite=Lax</code>.</strong></p></li><li><p><strong><code>Cookies</code> с атрибутом <code>SameSite=None</code> должны также содержать аттрибут <code>Secure</code>, и передаваться только по защищенному протоколу.</strong></p></li></ul><p>Chrome добавил эти изменения начиная с версии 84. В Firefox они тестируются с версии 69 и в дальнейшем будут активны по умолчанию. Чтобы протестировать эти изменения в Firefox, откройте <code>about:config</code> и включите опцию <code>network.cookie.sameSite.laxByDefault</code>. Edge также планирует изменить свое стандартное поведение.</p><h2><code>SameSite=Lax</code> по умолчанию</h2><p>Атрибут не выбран:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Set<span class="token operator">-</span>Cookie<span class="token operator">:</span> promo_shown<span class="token operator">=</span><span class="token number">1</span></code></pre></div><p>Если вы отправите <code>cookie</code> без аттрибута <code>SameSite</code>…</p><p>Применится стандартное поведение:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Set<span class="token operator">-</span>Cookie<span class="token operator">:</span> promo_shown<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> SameSite<span class="token operator">=</span>Lax</code></pre></div><p>Браузер будет работать с <code>cookie</code> как при <code>SameSite=Lax</code>.</p><p>Даже несмотря на то что теперь предоставляется более безопасное поведение по умолчанию, вам лучше явно определить <code>SameSite</code>, чем предоставить это решение браузеру. Это сделает ваши намерения в отношении <code>cookie</code> прозрачными и улучшит кросс-браузерную поддержку.</p><p><strong>Внимание:</strong></p><p>Стандартное поведение Chrome чуть менее строгое чем явный <code>SameSite=Lax</code>, поскольку разрешена отправка некоторых <code>cookies</code> для POST запросов верхнего уровня. Подробнее об этом можно узнать здесь. Это временное снижение ограничений, если вам нужно передавать <code>cookies</code> сторонним сайтам, необходимо использовать: <code>SameSite=None; Secure</code>.</p><h2><code>SameSite=None</code> должны быть безопасными</h2><p>Отклонено:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Set<span class="token operator">-</span>Cookie<span class="token operator">:</span> widget_session<span class="token operator">=</span>abc123<span class="token punctuation">;</span> SameSite<span class="token operator">=</span>None</code></pre></div><p>Назначение <code>cookie</code> без <code>Secure</code> будет отклонено.</p><p>Принято:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Set<span class="token operator">-</span>Cookie<span class="token operator">:</span> widget_session<span class="token operator">=</span>abc123<span class="token punctuation">;</span> SameSite<span class="token operator">=</span>None<span class="token punctuation">;</span> Secure</code></pre></div><p>Вы должны быть уверены что аттрибут <code>SameSite=None</code> используется в паре с аттрибутом <code>Secure</code>.</p><p>Вы можете протестировать это поведение с версии Chrome 76 включив <code>chrome://flags/#cookies-without-same-site-must-be-secure</code> и в Firefox 69 в <code>about:config</code>, установив <code>network.cookie.sameSite.noneRequiresSecure</code>.</p><p>Вам нужно их применить, когда вы устанавливаете новые <code>cookies</code> и активно обновляете существующие <code>cookies</code> даже если не истек их срок действия.</p><p>Если вы зависите от сервисов, которые предоставляют сторонний контент на вашем сайте, вы также должны следить за тем что они обновляют свое поведение. Вам необходимо обновлять зависимости,чтобы быть уверенным, что ваш сайт поддерживает новое поведение.</p><p>Оба этих изменения обратно-совместимы с браузерами, которые корректно воспроизводят предыдущую версию аттрибута <code>SameSite</code> или вообще ее не поддерживают. Аналогично, любые клиенты не поддерживающие <code>SameSite=None</code> до сих пор, должны игнорировать его и обрабатывать таким образом, как будто этот аттрибут не задан.</p><p>Предупреждение:</p><p>Определенное число старых версий браузеров Chrome, Safari, и UC несовместимы с новым значением <code>None</code> и могут игнорировать или отклонять <code>cookie</code>. Это поведение исправлено в текущих версиях, но необходимо проверить соотношение пользователей использующих старые версии. Список неподдерживаемых клиентов можно найти на сайте Chromium.</p><p>Огромное спасибо за участие и обратную связь Lily Chen, Malte Ubl, Mike West, Rob Dodson, Tom Steiner, и Vivek Sekhar</p></article></main><footer class="flex flex-row flex-wrap w-full justify-center items-end p-4"><div class="mx-2"><a href="https://github.com/DmitryVdovichencko"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg> </a></div><div class="mx-2"><a href="https://twitter.com/Dimetrio89"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M928 254.3c-30.6 13.2-63.9 22.7-98.2 26.4a170.1 170.1 0 0 0 75-94 336.64 336.64 0 0 1-108.2 41.2A170.1 170.1 0 0 0 672 174c-94.5 0-170.5 76.6-170.5 170.6 0 13.2 1.6 26.4 4.2 39.1-141.5-7.4-267.7-75-351.6-178.5a169.32 169.32 0 0 0-23.2 86.1c0 59.2 30.1 111.4 76 142.1a172 172 0 0 1-77.1-21.7v2.1c0 82.9 58.6 151.6 136.7 167.4a180.6 180.6 0 0 1-44.9 5.8c-11.1 0-21.6-1.1-32.2-2.6C211 652 273.9 701.1 348.8 702.7c-58.6 45.9-132 72.9-211.7 72.9-14.3 0-27.5-.5-41.2-2.1C171.5 822 261.2 850 357.8 850 671.4 850 843 590.2 843 364.7c0-7.4 0-14.8-.5-22.2 33.2-24.3 62.3-54.4 85.5-88.2z"></path></svg></a></div><div class="mx-2"><a href="https://twitter.com/Dimetrio89"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"></path></svg></a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/sameCookies/same-cookies/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-8fe4e6a52b75474730ed.js"],"app":["/app-70b16d81b9b70edec0da.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c76117705146f8260ca2.js"],"component---src-pages-articles-tsx":["/component---src-pages-articles-tsx-e930e099146b61077ecd.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-1dcd68d012b1d70d1380.js"],"component---src-pages-projects-tsx":["/component---src-pages-projects-tsx-cb27d85074487beeaabf.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-213af1a8deca39812a26.js"],"component---src-templates-article-tsx":["/component---src-templates-article-tsx-3e78fc60b1c6703a8b17.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-2ebba03a3c2b54d54910.js"]};/*]]>*/</script><script src="/polyfill-8fe4e6a52b75474730ed.js" nomodule=""></script><script src="/component---src-templates-article-tsx-3e78fc60b1c6703a8b17.js" async=""></script><script src="/d7eeaac4-b2cc3d84ef9fea63f7c5.js" async=""></script><script src="/app-70b16d81b9b70edec0da.js" async=""></script><script src="/framework-5286ab28b32100cba98c.js" async=""></script><script src="/webpack-runtime-71fe743e4da52460ef4e.js" async=""></script></body></html>